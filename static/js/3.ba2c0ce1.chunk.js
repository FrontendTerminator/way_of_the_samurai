/*! For license information please see 3.ba2c0ce1.chunk.js.LICENSE.txt */
(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[3],{296:function(e,n,r){e.exports={selectedPage:"Paginator_selectedPage__1-_GI",pageNumber:"Paginator_pageNumber__15Gbx"}},297:function(e,n,r){var t;!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var e=[],n=0;n<arguments.length;n++){var t=arguments[n];if(t){var s=typeof t;if("string"===s||"number"===s)e.push(t);else if(Array.isArray(t)){if(t.length){var u=o.apply(null,t);u&&e.push(u)}}else if("object"===s)if(t.toString===Object.prototype.toString)for(var i in t)r.call(t,i)&&t[i]&&e.push(i);else e.push(t.toString())}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(t=function(){return o}.apply(n,[]))||(e.exports=t)}()},298:function(e,n,r){e.exports={userBlock:"User_userBlock__xtFEn",userPhoto:"User_userPhoto__2l1hV",btn:"User_btn__14O-j"}},299:function(e,n,r){e.exports={usersBlock:"Users_usersBlock__2GkOQ"}},301:function(e,n,r){"use strict";r.r(n);var t=r(38),o=r(39),s=r(41),u=r(40),i=r(0),l=r(1),c=r.n(l),a=r(12),p=r(108),f=r(98),g=r(56),h=r(296),d=r.n(h),j=r(297),b=r.n(j),v=function(e){for(var n=Math.ceil(e.totalItemsCount/e.pageSize),r=[],t=1;t<=n;t++)r.push(t);var o=Math.ceil(n/e.portionSize),s=Object(l.useState)(1),u=Object(g.a)(s,2),c=u[0],a=u[1],p=(c-1)*e.portionSize+1,h=c*e.portionSize;return Object(i.jsxs)("div",{children:[c>1&&Object(i.jsx)("button",{onClick:function(){return a(c-1)},children:"back"}),r.filter((function(e){return e>=p&&e<=h})).map((function(n){return Object(i.jsx)("span",{className:b()(d.a.pageNumber,Object(f.a)({},d.a.selectedPage,e.currentPage===n)),onClick:function(r){e.onPageChanged(n)},children:n},n)})),o>c&&Object(i.jsx)("button",{onClick:function(){return a(c+1)},children:"next"})]})},P=r(21),O=r(130),x=r(298),w=r.n(x),m=function(e){return Object(i.jsxs)("div",{className:w.a.userBlock,children:[Object(i.jsx)("div",{children:Object(i.jsx)(P.b,{to:"profile/"+e.user.id,children:Object(i.jsx)("img",{src:null!=e.user.photos.small?e.user.photos.small:O.a,className:w.a.userPhoto})})}),Object(i.jsx)("div",{children:e.user.followed?Object(i.jsx)("button",{disabled:e.followingInProgress.some((function(n){return n===e.user.id})),className:w.a.btn,onClick:function(){e.unfollowUser(e.user.id)},children:"Unfollow"}):Object(i.jsx)("button",{disabled:e.followingInProgress.some((function(n){return n===e.user.id})),className:w.a.btn,onClick:function(){e.followUser(e.user.id)},children:"Follow"})}),Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{children:e.user.name}),Object(i.jsx)("div",{children:e.user.status})]})]})},U=r(299),y=r.n(U),C=function(e){return Object(i.jsxs)("div",{className:y.a.usersBlock,children:[Object(i.jsx)(v,{portionSize:10,totalItemsCount:e.totalUsersCount,pageSize:e.pageSize,onPageChanged:e.onPageChanged,currentPage:e.currentPage}),Object(i.jsx)("div",{children:e.users.map((function(n){return Object(i.jsx)(m,{user:n,unfollowUser:e.unfollowUser,followUser:e.followUser,followingInProgress:e.followingInProgress})}))})]})},_=r(42),S=r(9);function k(e,n){return e===n}function z(e,n,r){if(null===n||null===r||n.length!==r.length)return!1;for(var t=n.length,o=0;o<t;o++)if(!e(n[o],r[o]))return!1;return!0}function I(e){var n=Array.isArray(e[0])?e[0]:e;if(!n.every((function(e){return"function"===typeof e}))){var r=n.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+r+"]")}return n}var N=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),t=1;t<n;t++)r[t-1]=arguments[t];return function(){for(var n=arguments.length,t=Array(n),o=0;o<n;o++)t[o]=arguments[o];var s=0,u=t.pop(),i=I(t),l=e.apply(void 0,[function(){return s++,u.apply(null,arguments)}].concat(r)),c=e((function(){for(var e=[],n=i.length,r=0;r<n;r++)e.push(i[r].apply(null,arguments));return l.apply(null,e)}));return c.resultFunc=u,c.dependencies=i,c.recomputations=function(){return s},c.resetRecomputations=function(){return s=0},c}}((function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k,r=null,t=null;return function(){return z(n,r,arguments)||(t=e.apply(null,arguments)),r=arguments,t}}));var F=N((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return!0}))})),A=function(e){return e.usersPage.pageSize},B=function(e){return e.usersPage.totalUsersCount},G=function(e){return e.usersPage.currentPage},M=function(e){return e.usersPage.isFetching},E=function(e){return e.usersPage.followingInProgress},J=function(e){Object(s.a)(r,e);var n=Object(u.a)(r);function r(e){var o;return Object(t.a)(this,r),(o=n.call(this,e)).onPageChanged=function(e){o.props.getUsers(e,o.props.pageSize)},o}return Object(o.a)(r,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return Object(i.jsxs)(i.Fragment,{children:[this.props.isFetching?Object(i.jsx)(_.a,{}):null,Object(i.jsx)(C,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,users:this.props.users,onPageChanged:this.onPageChanged,followUser:this.props.followUser,unfollowUser:this.props.unfollowUser,followingInProgress:this.props.followingInProgress})]})}}]),r}(c.a.Component),D=Object(S.d)(Object(a.b)((function(e){return{users:F(e),pageSize:A(e),totalUsersCount:B(e),currentPage:G(e),isFetching:M(e),followingInProgress:E(e)}}),{unfollowUser:p.e,followUser:p.b,setCurrentPage:p.d,getUsers:p.c}))(J);n.default=D}}]);
//# sourceMappingURL=3.ba2c0ce1.chunk.js.map